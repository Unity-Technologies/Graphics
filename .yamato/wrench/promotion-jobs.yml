# Auto-generated by Recipe Engine, do not modify manually.
# This job is generated by the wrench recipe engine module, see find the docs here: http://Go/ii2fb

# Publish Dry Run  for postprocessing to https://artifactory-slo.bf.unity3d.com/artifactory/api/npm/upm-npm
publish_dry_run_postprocessing:
  name: Publish Dry Run postprocessing
  agent:
    image: package-ci/ubuntu-20.04:v4
    type: Unity::VM
    flavor: b1.large
  commands:
  - command: curl https://artifactory.prd.it.unity3d.com/artifactory/stevedore-unity-internal/wrench-localapv/1-3-0_3978eda62a03e3dbc469ab77590d20f8832032d8e0b586550597b7f590baefec.zip -o wrench-localapv.zip
  - command: 7z x -aoa wrench-localapv.zip
  - command: pip install semver requests --index-url https://artifactory-slo.bf.unity3d.com/artifactory/api/pypi/pypi/simple
  - command: python PythonScripts/print_machine_info.py
  - command: pip install semver requests --index-url https://artifactory-slo.bf.unity3d.com/artifactory/api/pypi/pypi/simple
  - command: python PythonScripts/report_valid_editors.py
  - command: python PythonScripts/ignore_existing_package_failure.py
  - command: python PythonScripts/run_publish_if_any_package_left.py --dry-run
  after:
  - command: bash .yamato/generated-scripts/infrastructure-instability-detection-linux.sh
  artifacts:
    logs:
      paths:
      - results/UTR/**/*
      browsable: onNonSuccess
  dependencies:
  - path: .yamato/wrench/package-pack-jobs.yml#package_pack_-_postprocessing
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_2019_4_-_macos13
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-2019.4-macos13
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-2019.4-macos13
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_2019_4_-_ubuntu1804
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-2019.4-ubuntu1804
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-2019.4-ubuntu1804
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_2019_4_-_win10
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-2019.4-win10
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-2019.4-win10
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_2022_3_-_macos13
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-2022.3-macos13
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-2022.3-macos13
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_2022_3_-_ubuntu1804
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-2022.3-ubuntu1804
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-2022.3-ubuntu1804
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_2022_3_-_win10
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-2022.3-win10
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-2022.3-win10
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_0_-_macos13
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.0-macos13
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.0-macos13
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_0_-_ubuntu2204
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.0-ubuntu2204
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.0-ubuntu2204
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_0_-_win10
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.0-win10
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.0-win10
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_3_-_macos13
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.3-macos13
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.3-macos13
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_3_-_ubuntu2204
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.3-ubuntu2204
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.3-ubuntu2204
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_3_-_win10
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.3-win10
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.3-win10
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_4_-_macos13
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.4-macos13
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.4-macos13
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_4_-_ubuntu2204
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.4-ubuntu2204
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.4-ubuntu2204
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_4_-_win10
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.4-win10
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.4-win10
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_5_-_macos13
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.5-macos13
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.5-macos13
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_5_-_ubuntu2204
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.5-ubuntu2204
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.5-ubuntu2204
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_5_-_win10
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.5-win10
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.5-win10
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_6_-_macos13
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.6-macos13
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.6-macos13
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_6_-_ubuntu2204
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.6-ubuntu2204
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.6-ubuntu2204
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_6_-_win10
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.6-win10
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.6-win10
        unzip: true
  variables:
    UPMPVP_ACK_UPMPVP_DOES_NO_API_VALIDATION: 1
    UPMPVP_CONTEXT_WRENCH: 2.1.1.0
  metadata:
    Job Maintainers: '#rm-packageworks'
    Wrench: 2.1.1.0

# Publish  for postprocessing to https://artifactory-slo.bf.unity3d.com/artifactory/api/npm/upm-npm
publish_postprocessing:
  name: Publish postprocessing
  agent:
    image: package-ci/ubuntu-20.04:v4
    type: Unity::VM
    flavor: b1.large
  commands:
  - command: curl https://artifactory.prd.it.unity3d.com/artifactory/stevedore-unity-internal/wrench-localapv/1-3-0_3978eda62a03e3dbc469ab77590d20f8832032d8e0b586550597b7f590baefec.zip -o wrench-localapv.zip
  - command: 7z x -aoa wrench-localapv.zip
  - command: pip install semver requests --index-url https://artifactory-slo.bf.unity3d.com/artifactory/api/pypi/pypi/simple
  - command: python PythonScripts/print_machine_info.py
  - command: pip install semver requests --index-url https://artifactory-slo.bf.unity3d.com/artifactory/api/pypi/pypi/simple
  - command: python PythonScripts/report_valid_editors.py
  - command: python PythonScripts/ignore_existing_package_failure.py
  - command: python PythonScripts/run_publish_if_any_package_left.py
  after:
  - command: bash .yamato/generated-scripts/infrastructure-instability-detection-linux.sh
  artifacts:
    logs:
      paths:
      - results/UTR/**/*
      browsable: onNonSuccess
  dependencies:
  - path: .yamato/wrench/package-pack-jobs.yml#package_pack_-_postprocessing
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_2019_4_-_macos13
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-2019.4-macos13
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-2019.4-macos13
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_2019_4_-_ubuntu1804
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-2019.4-ubuntu1804
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-2019.4-ubuntu1804
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_2019_4_-_win10
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-2019.4-win10
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-2019.4-win10
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_2022_3_-_macos13
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-2022.3-macos13
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-2022.3-macos13
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_2022_3_-_ubuntu1804
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-2022.3-ubuntu1804
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-2022.3-ubuntu1804
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_2022_3_-_win10
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-2022.3-win10
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-2022.3-win10
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_0_-_macos13
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.0-macos13
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.0-macos13
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_0_-_ubuntu2204
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.0-ubuntu2204
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.0-ubuntu2204
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_0_-_win10
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.0-win10
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.0-win10
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_3_-_macos13
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.3-macos13
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.3-macos13
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_3_-_ubuntu2204
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.3-ubuntu2204
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.3-ubuntu2204
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_3_-_win10
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.3-win10
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.3-win10
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_4_-_macos13
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.4-macos13
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.4-macos13
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_4_-_ubuntu2204
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.4-ubuntu2204
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.4-ubuntu2204
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_4_-_win10
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.4-win10
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.4-win10
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_5_-_macos13
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.5-macos13
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.5-macos13
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_5_-_ubuntu2204
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.5-ubuntu2204
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.5-ubuntu2204
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_5_-_win10
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.5-win10
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.5-win10
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_6_-_macos13
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.6-macos13
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.6-macos13
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_6_-_ubuntu2204
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.6-ubuntu2204
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.6-ubuntu2204
        unzip: true
  - path: .yamato/wrench/validation-jobs.yml#validate_-_postprocessing_-_6000_6_-_win10
    specific_options:
      packages:
        ignore_artifact: true
      pvp-results:
        location: results/pvp/validate-postprocessing-6000.6-win10
        unzip: true
      UTR:
        location: results/UTR/validate-postprocessing-6000.6-win10
        unzip: true
  variables:
    UPMPVP_ACK_UPMPVP_DOES_NO_API_VALIDATION: 1
    UPMPVP_CONTEXT_WRENCH: 2.1.1.0
  metadata:
    Job Maintainers: '#rm-packageworks'
    Wrench: 2.1.1.0

