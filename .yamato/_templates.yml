
# This file is generated by ant_yaml_generation package, don't edit this file manually.
# Introduce any changes under .yamato/config/*.metafile files and rerun yaml-generation (or check #devs-automation-tooling).

{% metadata_file .yamato/_cache_config.metafile -%}
{% metadata_file .yamato/_latest_editor_versions_trunk.metafile -%}

---

pre_pack_hdrp_template_Win_trunk:
    name: Pre-Pack HDRP Template Win trunk
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    commands:
      -  choco install unity-downloader-cli -y -s https://artifactory.prd.it.unity3d.com/artifactory/api/nuget/unity-choco-local
      -  unity-downloader-cli --source-file unity_revision.txt -c editor --wait --published-only
      -  .Editor\Unity.exe -projectPath com.unity.template-hd -batchmode -quit -logFile ./Editor.log
    dependencies:
      -  .yamato/_editor_priming.yml#editor:priming:trunk:Win
    artifacts:
        primed:
            paths:
              -  "com.unity.template-hd/Library/Artifacts/**"
              -  "com.unity.template-hd/Library/ArtifactDB"
              -  "com.unity.template-hd/Library/SourceAssetDB"
        logs:
            paths:
              -  "Editor.log"
pack_hdrp_template_Win_trunk:
    name: Pack HDRP Template Win trunk
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci template pack --project-path com.unity.template-hd
    artifacts:
        packages:
            paths:
              -  "upm-ci~/packages/**/*"
              -  "upm-ci~/templates/**/*"
test_hdrp_template_Win_trunk:
    name: Test HDRP Template Win trunk
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    dependencies:
      -  .yamato/_templates.yml#pack_hdrp_template_Win_trunk
      -  .yamato/_editor_priming.yml#editor:priming:trunk:Win
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  choco install unity-downloader-cli -y -s https://artifactory.prd.it.unity3d.com/artifactory/api/nuget/unity-choco-local
      -  unity-downloader-cli --source-file unity_revision.txt -c editor --wait --published-only
      -  upm-ci template test -u .\.Editor --project-path com.unity.template-hd
    artifacts:
        logs:
            paths:
              -  "**/test-results/**"
pre_pack_hdrp_template_OSX_trunk:
    name: Pre-Pack HDRP Template OSX trunk
    agent:
        type: Unity::VM::osx
        image: package-ci/macos-13:v4.30.0
        flavor: m1.mac
    commands:
      -  unity-downloader-cli --source-file unity_revision.txt -c editor --wait --published-only
      -  .Editor/Unity.app/Contents/MacOS/Unity -projectPath com.unity.template-hd -batchmode -quit -logFile ./Editor.log
    dependencies:
      -  .yamato/_editor_priming.yml#editor:priming:trunk:OSX
    artifacts:
        primed:
            paths:
              -  "com.unity.template-hd/Library/Artifacts/**"
              -  "com.unity.template-hd/Library/ArtifactDB"
              -  "com.unity.template-hd/Library/SourceAssetDB"
        logs:
            paths:
              -  "Editor.log"
pack_hdrp_template_OSX_trunk:
    name: Pack HDRP Template OSX trunk
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci template pack --project-path com.unity.template-hd
    artifacts:
        packages:
            paths:
              -  "upm-ci~/packages/**/*"
              -  "upm-ci~/templates/**/*"
test_hdrp_template_OSX_trunk:
    name: Test HDRP Template OSX trunk
    agent:
        type: Unity::VM::osx
        image: package-ci/macos-13:v4.30.0
        flavor: m1.mac
    dependencies:
      -  .yamato/_templates.yml#pack_hdrp_template_OSX_trunk
      -  .yamato/_editor_priming.yml#editor:priming:trunk:OSX
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  unity-downloader-cli --source-file unity_revision.txt -c editor --wait --published-only
      -  upm-ci template test -u $(pwd)/.Editor/Unity.app/Contents/MacOS/Unity --project-path com.unity.template-hd
    artifacts:
        logs:
            paths:
              -  "**/test-results/**"
publish_hdrp_template_trunk:
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    name: Publish HDRP Template trunk
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci template publish --project-path com.unity.template-hd
    dependencies:
      -  .yamato/_templates.yml#test_hdrp_template_Win_trunk
      -  .yamato/_templates.yml#test_hdrp_template_OSX_trunk
      -  .yamato/_templates.yml#pack_hdrp_template_Win_trunk
      -  .yamato/_templates.yml#pack_hdrp_template_OSX_trunk
    artifacts:
        packages:
            paths:
              -  "upm-ci~/packages/**/*"
              -  "upm-ci~/templates/**/*"
publish_hdrp_template_trunk_dry_run:
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    name: Publish HDRP Template trunk Dry Run
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci template publish --project-path com.unity.template-hd --dry-run
    dependencies:
      -  .yamato/_templates.yml#test_hdrp_template_Win_trunk
      -  .yamato/_templates.yml#test_hdrp_template_OSX_trunk
      -  .yamato/_templates.yml#pack_hdrp_template_Win_trunk
      -  .yamato/_templates.yml#pack_hdrp_template_OSX_trunk
    artifacts:
        packages:
            paths:
              -  "upm-ci~/packages/**/*"
              -  "upm-ci~/templates/**/*"
pre_pack_hdrp_template_Win_CUSTOM-REVISION:
    name: Pre-Pack HDRP Template Win CUSTOM-REVISION
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    commands:
      -  choco install unity-downloader-cli -y -s https://artifactory.prd.it.unity3d.com/artifactory/api/nuget/unity-choco-local
      -  unity-downloader-cli --source-file unity_revision.txt -c editor --wait --published-only
      -  .Editor\Unity.exe -projectPath com.unity.template-hd -batchmode -quit -logFile ./Editor.log
    dependencies:
      -  .yamato/_editor_priming.yml#editor:priming:CUSTOM-REVISION:Win
    artifacts:
        primed:
            paths:
              -  "com.unity.template-hd/Library/Artifacts/**"
              -  "com.unity.template-hd/Library/ArtifactDB"
              -  "com.unity.template-hd/Library/SourceAssetDB"
        logs:
            paths:
              -  "Editor.log"
pack_hdrp_template_Win_CUSTOM-REVISION:
    name: Pack HDRP Template Win CUSTOM-REVISION
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci template pack --project-path com.unity.template-hd
    artifacts:
        packages:
            paths:
              -  "upm-ci~/packages/**/*"
              -  "upm-ci~/templates/**/*"
test_hdrp_template_Win_CUSTOM-REVISION:
    name: Test HDRP Template Win CUSTOM-REVISION
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    dependencies:
      -  .yamato/_templates.yml#pack_hdrp_template_Win_CUSTOM-REVISION
      -  .yamato/_editor_priming.yml#editor:priming:CUSTOM-REVISION:Win
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  choco install unity-downloader-cli -y -s https://artifactory.prd.it.unity3d.com/artifactory/api/nuget/unity-choco-local
      -  unity-downloader-cli --source-file unity_revision.txt -c editor --wait --published-only
      -  upm-ci template test -u .\.Editor --project-path com.unity.template-hd
    artifacts:
        logs:
            paths:
              -  "**/test-results/**"
    variables:
        CUSTOM_REVISION: custom_revision_not_set
pre_pack_hdrp_template_OSX_CUSTOM-REVISION:
    name: Pre-Pack HDRP Template OSX CUSTOM-REVISION
    agent:
        type: Unity::VM::osx
        image: package-ci/macos-13:v4.30.0
        flavor: m1.mac
    commands:
      -  unity-downloader-cli --source-file unity_revision.txt -c editor --wait --published-only
      -  .Editor/Unity.app/Contents/MacOS/Unity -projectPath com.unity.template-hd -batchmode -quit -logFile ./Editor.log
    dependencies:
      -  .yamato/_editor_priming.yml#editor:priming:CUSTOM-REVISION:OSX
    artifacts:
        primed:
            paths:
              -  "com.unity.template-hd/Library/Artifacts/**"
              -  "com.unity.template-hd/Library/ArtifactDB"
              -  "com.unity.template-hd/Library/SourceAssetDB"
        logs:
            paths:
              -  "Editor.log"
pack_hdrp_template_OSX_CUSTOM-REVISION:
    name: Pack HDRP Template OSX CUSTOM-REVISION
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci template pack --project-path com.unity.template-hd
    artifacts:
        packages:
            paths:
              -  "upm-ci~/packages/**/*"
              -  "upm-ci~/templates/**/*"
test_hdrp_template_OSX_CUSTOM-REVISION:
    name: Test HDRP Template OSX CUSTOM-REVISION
    agent:
        type: Unity::VM::osx
        image: package-ci/macos-13:v4.30.0
        flavor: m1.mac
    dependencies:
      -  .yamato/_templates.yml#pack_hdrp_template_OSX_CUSTOM-REVISION
      -  .yamato/_editor_priming.yml#editor:priming:CUSTOM-REVISION:OSX
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  unity-downloader-cli --source-file unity_revision.txt -c editor --wait --published-only
      -  upm-ci template test -u $(pwd)/.Editor/Unity.app/Contents/MacOS/Unity --project-path com.unity.template-hd
    artifacts:
        logs:
            paths:
              -  "**/test-results/**"
    variables:
        CUSTOM_REVISION: custom_revision_not_set
publish_hdrp_template_CUSTOM-REVISION:
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    name: Publish HDRP Template CUSTOM-REVISION
    variables:
        CUSTOM_REVISION: custom_revision_not_set
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci template publish --project-path com.unity.template-hd
    dependencies:
      -  .yamato/_templates.yml#test_hdrp_template_Win_CUSTOM-REVISION
      -  .yamato/_templates.yml#test_hdrp_template_OSX_CUSTOM-REVISION
      -  .yamato/_templates.yml#pack_hdrp_template_Win_CUSTOM-REVISION
      -  .yamato/_templates.yml#pack_hdrp_template_OSX_CUSTOM-REVISION
    artifacts:
        packages:
            paths:
              -  "upm-ci~/packages/**/*"
              -  "upm-ci~/templates/**/*"
publish_hdrp_template_CUSTOM-REVISION_dry_run:
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    name: Publish HDRP Template CUSTOM-REVISION Dry Run
    variables:
        CUSTOM_REVISION: custom_revision_not_set
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci template publish --project-path com.unity.template-hd --dry-run
    dependencies:
      -  .yamato/_templates.yml#test_hdrp_template_Win_CUSTOM-REVISION
      -  .yamato/_templates.yml#test_hdrp_template_OSX_CUSTOM-REVISION
      -  .yamato/_templates.yml#pack_hdrp_template_Win_CUSTOM-REVISION
      -  .yamato/_templates.yml#pack_hdrp_template_OSX_CUSTOM-REVISION
    artifacts:
        packages:
            paths:
              -  "upm-ci~/packages/**/*"
              -  "upm-ci~/templates/**/*"
pre_pack_hdrp_blank_template_Win_trunk:
    name: Pre-Pack HDRP Blank Template Win trunk
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    commands:
      -  choco install unity-downloader-cli -y -s https://artifactory.prd.it.unity3d.com/artifactory/api/nuget/unity-choco-local
      -  unity-downloader-cli --source-file unity_revision.txt -c editor --wait --published-only
      -  .Editor\Unity.exe -projectPath com.unity.template.hdrp-blank -batchmode -quit -logFile ./Editor.log
    dependencies:
      -  .yamato/_editor_priming.yml#editor:priming:trunk:Win
    artifacts:
        primed:
            paths:
              -  "com.unity.template.hdrp-blank/Library/Artifacts/**"
              -  "com.unity.template.hdrp-blank/Library/ArtifactDB"
              -  "com.unity.template.hdrp-blank/Library/SourceAssetDB"
        logs:
            paths:
              -  "Editor.log"
pack_hdrp_blank_template_Win_trunk:
    name: Pack HDRP Blank Template Win trunk
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci template pack --project-path com.unity.template.hdrp-blank
    artifacts:
        packages:
            paths:
              -  "upm-ci~/packages/**/*"
              -  "upm-ci~/templates/**/*"
test_hdrp_blank_template_Win_trunk:
    name: Test HDRP Blank Template Win trunk
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    dependencies:
      -  .yamato/_templates.yml#pack_hdrp_blank_template_Win_trunk
      -  .yamato/_editor_priming.yml#editor:priming:trunk:Win
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  choco install unity-downloader-cli -y -s https://artifactory.prd.it.unity3d.com/artifactory/api/nuget/unity-choco-local
      -  unity-downloader-cli --source-file unity_revision.txt -c editor --wait --published-only
      -  upm-ci template test -u .\.Editor --project-path com.unity.template.hdrp-blank
    artifacts:
        logs:
            paths:
              -  "**/test-results/**"
pre_pack_hdrp_blank_template_OSX_trunk:
    name: Pre-Pack HDRP Blank Template OSX trunk
    agent:
        type: Unity::VM::osx
        image: package-ci/macos-13:v4.30.0
        flavor: m1.mac
    commands:
      -  unity-downloader-cli --source-file unity_revision.txt -c editor --wait --published-only
      -  .Editor/Unity.app/Contents/MacOS/Unity -projectPath com.unity.template.hdrp-blank -batchmode -quit -logFile ./Editor.log
    dependencies:
      -  .yamato/_editor_priming.yml#editor:priming:trunk:OSX
    artifacts:
        primed:
            paths:
              -  "com.unity.template.hdrp-blank/Library/Artifacts/**"
              -  "com.unity.template.hdrp-blank/Library/ArtifactDB"
              -  "com.unity.template.hdrp-blank/Library/SourceAssetDB"
        logs:
            paths:
              -  "Editor.log"
pack_hdrp_blank_template_OSX_trunk:
    name: Pack HDRP Blank Template OSX trunk
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci template pack --project-path com.unity.template.hdrp-blank
    artifacts:
        packages:
            paths:
              -  "upm-ci~/packages/**/*"
              -  "upm-ci~/templates/**/*"
test_hdrp_blank_template_OSX_trunk:
    name: Test HDRP Blank Template OSX trunk
    agent:
        type: Unity::VM::osx
        image: package-ci/macos-13:v4.30.0
        flavor: m1.mac
    dependencies:
      -  .yamato/_templates.yml#pack_hdrp_blank_template_OSX_trunk
      -  .yamato/_editor_priming.yml#editor:priming:trunk:OSX
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  unity-downloader-cli --source-file unity_revision.txt -c editor --wait --published-only
      -  upm-ci template test -u $(pwd)/.Editor/Unity.app/Contents/MacOS/Unity --project-path com.unity.template.hdrp-blank
    artifacts:
        logs:
            paths:
              -  "**/test-results/**"
publish_hdrp_blank_template_trunk:
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    name: Publish HDRP Blank Template trunk
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci template publish --project-path com.unity.template.hdrp-blank
    dependencies:
      -  .yamato/_templates.yml#test_hdrp_blank_template_Win_trunk
      -  .yamato/_templates.yml#test_hdrp_blank_template_OSX_trunk
      -  .yamato/_templates.yml#pack_hdrp_blank_template_Win_trunk
      -  .yamato/_templates.yml#pack_hdrp_blank_template_OSX_trunk
    artifacts:
        packages:
            paths:
              -  "upm-ci~/packages/**/*"
              -  "upm-ci~/templates/**/*"
publish_hdrp_blank_template_trunk_dry_run:
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    name: Publish HDRP Blank Template trunk Dry Run
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci template publish --project-path com.unity.template.hdrp-blank --dry-run
    dependencies:
      -  .yamato/_templates.yml#test_hdrp_blank_template_Win_trunk
      -  .yamato/_templates.yml#test_hdrp_blank_template_OSX_trunk
      -  .yamato/_templates.yml#pack_hdrp_blank_template_Win_trunk
      -  .yamato/_templates.yml#pack_hdrp_blank_template_OSX_trunk
    artifacts:
        packages:
            paths:
              -  "upm-ci~/packages/**/*"
              -  "upm-ci~/templates/**/*"
pre_pack_hdrp_blank_template_Win_CUSTOM-REVISION:
    name: Pre-Pack HDRP Blank Template Win CUSTOM-REVISION
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    commands:
      -  choco install unity-downloader-cli -y -s https://artifactory.prd.it.unity3d.com/artifactory/api/nuget/unity-choco-local
      -  unity-downloader-cli --source-file unity_revision.txt -c editor --wait --published-only
      -  .Editor\Unity.exe -projectPath com.unity.template.hdrp-blank -batchmode -quit -logFile ./Editor.log
    dependencies:
      -  .yamato/_editor_priming.yml#editor:priming:CUSTOM-REVISION:Win
    artifacts:
        primed:
            paths:
              -  "com.unity.template.hdrp-blank/Library/Artifacts/**"
              -  "com.unity.template.hdrp-blank/Library/ArtifactDB"
              -  "com.unity.template.hdrp-blank/Library/SourceAssetDB"
        logs:
            paths:
              -  "Editor.log"
pack_hdrp_blank_template_Win_CUSTOM-REVISION:
    name: Pack HDRP Blank Template Win CUSTOM-REVISION
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci template pack --project-path com.unity.template.hdrp-blank
    artifacts:
        packages:
            paths:
              -  "upm-ci~/packages/**/*"
              -  "upm-ci~/templates/**/*"
test_hdrp_blank_template_Win_CUSTOM-REVISION:
    name: Test HDRP Blank Template Win CUSTOM-REVISION
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    dependencies:
      -  .yamato/_templates.yml#pack_hdrp_blank_template_Win_CUSTOM-REVISION
      -  .yamato/_editor_priming.yml#editor:priming:CUSTOM-REVISION:Win
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  choco install unity-downloader-cli -y -s https://artifactory.prd.it.unity3d.com/artifactory/api/nuget/unity-choco-local
      -  unity-downloader-cli --source-file unity_revision.txt -c editor --wait --published-only
      -  upm-ci template test -u .\.Editor --project-path com.unity.template.hdrp-blank
    artifacts:
        logs:
            paths:
              -  "**/test-results/**"
    variables:
        CUSTOM_REVISION: custom_revision_not_set
pre_pack_hdrp_blank_template_OSX_CUSTOM-REVISION:
    name: Pre-Pack HDRP Blank Template OSX CUSTOM-REVISION
    agent:
        type: Unity::VM::osx
        image: package-ci/macos-13:v4.30.0
        flavor: m1.mac
    commands:
      -  unity-downloader-cli --source-file unity_revision.txt -c editor --wait --published-only
      -  .Editor/Unity.app/Contents/MacOS/Unity -projectPath com.unity.template.hdrp-blank -batchmode -quit -logFile ./Editor.log
    dependencies:
      -  .yamato/_editor_priming.yml#editor:priming:CUSTOM-REVISION:OSX
    artifacts:
        primed:
            paths:
              -  "com.unity.template.hdrp-blank/Library/Artifacts/**"
              -  "com.unity.template.hdrp-blank/Library/ArtifactDB"
              -  "com.unity.template.hdrp-blank/Library/SourceAssetDB"
        logs:
            paths:
              -  "Editor.log"
pack_hdrp_blank_template_OSX_CUSTOM-REVISION:
    name: Pack HDRP Blank Template OSX CUSTOM-REVISION
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci template pack --project-path com.unity.template.hdrp-blank
    artifacts:
        packages:
            paths:
              -  "upm-ci~/packages/**/*"
              -  "upm-ci~/templates/**/*"
test_hdrp_blank_template_OSX_CUSTOM-REVISION:
    name: Test HDRP Blank Template OSX CUSTOM-REVISION
    agent:
        type: Unity::VM::osx
        image: package-ci/macos-13:v4.30.0
        flavor: m1.mac
    dependencies:
      -  .yamato/_templates.yml#pack_hdrp_blank_template_OSX_CUSTOM-REVISION
      -  .yamato/_editor_priming.yml#editor:priming:CUSTOM-REVISION:OSX
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  unity-downloader-cli --source-file unity_revision.txt -c editor --wait --published-only
      -  upm-ci template test -u $(pwd)/.Editor/Unity.app/Contents/MacOS/Unity --project-path com.unity.template.hdrp-blank
    artifacts:
        logs:
            paths:
              -  "**/test-results/**"
    variables:
        CUSTOM_REVISION: custom_revision_not_set
publish_hdrp_blank_template_CUSTOM-REVISION:
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    name: Publish HDRP Blank Template CUSTOM-REVISION
    variables:
        CUSTOM_REVISION: custom_revision_not_set
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci template publish --project-path com.unity.template.hdrp-blank
    dependencies:
      -  .yamato/_templates.yml#test_hdrp_blank_template_Win_CUSTOM-REVISION
      -  .yamato/_templates.yml#test_hdrp_blank_template_OSX_CUSTOM-REVISION
      -  .yamato/_templates.yml#pack_hdrp_blank_template_Win_CUSTOM-REVISION
      -  .yamato/_templates.yml#pack_hdrp_blank_template_OSX_CUSTOM-REVISION
    artifacts:
        packages:
            paths:
              -  "upm-ci~/packages/**/*"
              -  "upm-ci~/templates/**/*"
publish_hdrp_blank_template_CUSTOM-REVISION_dry_run:
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    name: Publish HDRP Blank Template CUSTOM-REVISION Dry Run
    variables:
        CUSTOM_REVISION: custom_revision_not_set
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci template publish --project-path com.unity.template.hdrp-blank --dry-run
    dependencies:
      -  .yamato/_templates.yml#test_hdrp_blank_template_Win_CUSTOM-REVISION
      -  .yamato/_templates.yml#test_hdrp_blank_template_OSX_CUSTOM-REVISION
      -  .yamato/_templates.yml#pack_hdrp_blank_template_Win_CUSTOM-REVISION
      -  .yamato/_templates.yml#pack_hdrp_blank_template_OSX_CUSTOM-REVISION
    artifacts:
        packages:
            paths:
              -  "upm-ci~/packages/**/*"
              -  "upm-ci~/templates/**/*"
pre_pack_universal_template_Win_trunk:
    name: Pre-Pack Universal Template Win trunk
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    commands:
      -  choco install unity-downloader-cli -y -s https://artifactory.prd.it.unity3d.com/artifactory/api/nuget/unity-choco-local
      -  unity-downloader-cli --source-file unity_revision.txt -c editor --wait --published-only
      -  .Editor\Unity.exe -projectPath com.unity.template-universal -batchmode -quit -logFile ./Editor.log
    dependencies:
      -  .yamato/_editor_priming.yml#editor:priming:trunk:Win
    artifacts:
        primed:
            paths:
              -  "com.unity.template-universal/Library/Artifacts/**"
              -  "com.unity.template-universal/Library/ArtifactDB"
              -  "com.unity.template-universal/Library/SourceAssetDB"
        logs:
            paths:
              -  "Editor.log"
pack_universal_template_Win_trunk:
    name: Pack Universal Template Win trunk
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci template pack --project-path com.unity.template-universal
    artifacts:
        packages:
            paths:
              -  "upm-ci~/packages/**/*"
              -  "upm-ci~/templates/**/*"
test_universal_template_Win_trunk:
    name: Test Universal Template Win trunk
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    dependencies:
      -  .yamato/_templates.yml#pack_universal_template_Win_trunk
      -  .yamato/_editor_priming.yml#editor:priming:trunk:Win
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  choco install unity-downloader-cli -y -s https://artifactory.prd.it.unity3d.com/artifactory/api/nuget/unity-choco-local
      -  unity-downloader-cli --source-file unity_revision.txt -c editor --wait --published-only
      -  upm-ci template test -u .\.Editor --project-path com.unity.template-universal
    artifacts:
        logs:
            paths:
              -  "**/test-results/**"
pre_pack_universal_template_OSX_trunk:
    name: Pre-Pack Universal Template OSX trunk
    agent:
        type: Unity::VM::osx
        image: package-ci/macos-13:v4.30.0
        flavor: m1.mac
    commands:
      -  unity-downloader-cli --source-file unity_revision.txt -c editor --wait --published-only
      -  .Editor/Unity.app/Contents/MacOS/Unity -projectPath com.unity.template-universal -batchmode -quit -logFile ./Editor.log
    dependencies:
      -  .yamato/_editor_priming.yml#editor:priming:trunk:OSX
    artifacts:
        primed:
            paths:
              -  "com.unity.template-universal/Library/Artifacts/**"
              -  "com.unity.template-universal/Library/ArtifactDB"
              -  "com.unity.template-universal/Library/SourceAssetDB"
        logs:
            paths:
              -  "Editor.log"
pack_universal_template_OSX_trunk:
    name: Pack Universal Template OSX trunk
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci template pack --project-path com.unity.template-universal
    artifacts:
        packages:
            paths:
              -  "upm-ci~/packages/**/*"
              -  "upm-ci~/templates/**/*"
test_universal_template_OSX_trunk:
    name: Test Universal Template OSX trunk
    agent:
        type: Unity::VM::osx
        image: package-ci/macos-13:v4.30.0
        flavor: m1.mac
    dependencies:
      -  .yamato/_templates.yml#pack_universal_template_OSX_trunk
      -  .yamato/_editor_priming.yml#editor:priming:trunk:OSX
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  unity-downloader-cli --source-file unity_revision.txt -c editor --wait --published-only
      -  upm-ci template test -u $(pwd)/.Editor/Unity.app/Contents/MacOS/Unity --project-path com.unity.template-universal
    artifacts:
        logs:
            paths:
              -  "**/test-results/**"
publish_universal_template_trunk:
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    name: Publish Universal Template trunk
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci template publish --project-path com.unity.template-universal
    dependencies:
      -  .yamato/_templates.yml#test_universal_template_Win_trunk
      -  .yamato/_templates.yml#test_universal_template_OSX_trunk
      -  .yamato/_templates.yml#pack_universal_template_Win_trunk
      -  .yamato/_templates.yml#pack_universal_template_OSX_trunk
    artifacts:
        packages:
            paths:
              -  "upm-ci~/packages/**/*"
              -  "upm-ci~/templates/**/*"
publish_universal_template_trunk_dry_run:
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    name: Publish Universal Template trunk Dry Run
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci template publish --project-path com.unity.template-universal --dry-run
    dependencies:
      -  .yamato/_templates.yml#test_universal_template_Win_trunk
      -  .yamato/_templates.yml#test_universal_template_OSX_trunk
      -  .yamato/_templates.yml#pack_universal_template_Win_trunk
      -  .yamato/_templates.yml#pack_universal_template_OSX_trunk
    artifacts:
        packages:
            paths:
              -  "upm-ci~/packages/**/*"
              -  "upm-ci~/templates/**/*"
pre_pack_universal_template_Win_CUSTOM-REVISION:
    name: Pre-Pack Universal Template Win CUSTOM-REVISION
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    commands:
      -  choco install unity-downloader-cli -y -s https://artifactory.prd.it.unity3d.com/artifactory/api/nuget/unity-choco-local
      -  unity-downloader-cli --source-file unity_revision.txt -c editor --wait --published-only
      -  .Editor\Unity.exe -projectPath com.unity.template-universal -batchmode -quit -logFile ./Editor.log
    dependencies:
      -  .yamato/_editor_priming.yml#editor:priming:CUSTOM-REVISION:Win
    artifacts:
        primed:
            paths:
              -  "com.unity.template-universal/Library/Artifacts/**"
              -  "com.unity.template-universal/Library/ArtifactDB"
              -  "com.unity.template-universal/Library/SourceAssetDB"
        logs:
            paths:
              -  "Editor.log"
pack_universal_template_Win_CUSTOM-REVISION:
    name: Pack Universal Template Win CUSTOM-REVISION
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci template pack --project-path com.unity.template-universal
    artifacts:
        packages:
            paths:
              -  "upm-ci~/packages/**/*"
              -  "upm-ci~/templates/**/*"
test_universal_template_Win_CUSTOM-REVISION:
    name: Test Universal Template Win CUSTOM-REVISION
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    dependencies:
      -  .yamato/_templates.yml#pack_universal_template_Win_CUSTOM-REVISION
      -  .yamato/_editor_priming.yml#editor:priming:CUSTOM-REVISION:Win
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  choco install unity-downloader-cli -y -s https://artifactory.prd.it.unity3d.com/artifactory/api/nuget/unity-choco-local
      -  unity-downloader-cli --source-file unity_revision.txt -c editor --wait --published-only
      -  upm-ci template test -u .\.Editor --project-path com.unity.template-universal
    artifacts:
        logs:
            paths:
              -  "**/test-results/**"
    variables:
        CUSTOM_REVISION: custom_revision_not_set
pre_pack_universal_template_OSX_CUSTOM-REVISION:
    name: Pre-Pack Universal Template OSX CUSTOM-REVISION
    agent:
        type: Unity::VM::osx
        image: package-ci/macos-13:v4.30.0
        flavor: m1.mac
    commands:
      -  unity-downloader-cli --source-file unity_revision.txt -c editor --wait --published-only
      -  .Editor/Unity.app/Contents/MacOS/Unity -projectPath com.unity.template-universal -batchmode -quit -logFile ./Editor.log
    dependencies:
      -  .yamato/_editor_priming.yml#editor:priming:CUSTOM-REVISION:OSX
    artifacts:
        primed:
            paths:
              -  "com.unity.template-universal/Library/Artifacts/**"
              -  "com.unity.template-universal/Library/ArtifactDB"
              -  "com.unity.template-universal/Library/SourceAssetDB"
        logs:
            paths:
              -  "Editor.log"
pack_universal_template_OSX_CUSTOM-REVISION:
    name: Pack Universal Template OSX CUSTOM-REVISION
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci template pack --project-path com.unity.template-universal
    artifacts:
        packages:
            paths:
              -  "upm-ci~/packages/**/*"
              -  "upm-ci~/templates/**/*"
test_universal_template_OSX_CUSTOM-REVISION:
    name: Test Universal Template OSX CUSTOM-REVISION
    agent:
        type: Unity::VM::osx
        image: package-ci/macos-13:v4.30.0
        flavor: m1.mac
    dependencies:
      -  .yamato/_templates.yml#pack_universal_template_OSX_CUSTOM-REVISION
      -  .yamato/_editor_priming.yml#editor:priming:CUSTOM-REVISION:OSX
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  unity-downloader-cli --source-file unity_revision.txt -c editor --wait --published-only
      -  upm-ci template test -u $(pwd)/.Editor/Unity.app/Contents/MacOS/Unity --project-path com.unity.template-universal
    artifacts:
        logs:
            paths:
              -  "**/test-results/**"
    variables:
        CUSTOM_REVISION: custom_revision_not_set
publish_universal_template_CUSTOM-REVISION:
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    name: Publish Universal Template CUSTOM-REVISION
    variables:
        CUSTOM_REVISION: custom_revision_not_set
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci template publish --project-path com.unity.template-universal
    dependencies:
      -  .yamato/_templates.yml#test_universal_template_Win_CUSTOM-REVISION
      -  .yamato/_templates.yml#test_universal_template_OSX_CUSTOM-REVISION
      -  .yamato/_templates.yml#pack_universal_template_Win_CUSTOM-REVISION
      -  .yamato/_templates.yml#pack_universal_template_OSX_CUSTOM-REVISION
    artifacts:
        packages:
            paths:
              -  "upm-ci~/packages/**/*"
              -  "upm-ci~/templates/**/*"
publish_universal_template_CUSTOM-REVISION_dry_run:
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    name: Publish Universal Template CUSTOM-REVISION Dry Run
    variables:
        CUSTOM_REVISION: custom_revision_not_set
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci template publish --project-path com.unity.template-universal --dry-run
    dependencies:
      -  .yamato/_templates.yml#test_universal_template_Win_CUSTOM-REVISION
      -  .yamato/_templates.yml#test_universal_template_OSX_CUSTOM-REVISION
      -  .yamato/_templates.yml#pack_universal_template_Win_CUSTOM-REVISION
      -  .yamato/_templates.yml#pack_universal_template_OSX_CUSTOM-REVISION
    artifacts:
        packages:
            paths:
              -  "upm-ci~/packages/**/*"
              -  "upm-ci~/templates/**/*"
all_template_ci_trunk:
    name: Pack and test all templates - trunk
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    dependencies:
      -  .yamato/_templates.yml#test_hdrp_template_Win_trunk
      -  .yamato/_templates.yml#test_hdrp_blank_template_Win_trunk
      -  .yamato/_templates.yml#test_universal_template_Win_trunk
      -  .yamato/_templates.yml#test_hdrp_template_OSX_trunk
      -  .yamato/_templates.yml#test_hdrp_blank_template_OSX_trunk
      -  .yamato/_templates.yml#test_universal_template_OSX_trunk
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci package izon -t
      -  upm-ci package izon -d
all_template_ci_CUSTOM-REVISION:
    name: Pack and test all templates - CUSTOM-REVISION
    agent:
        type: Unity::VM
        image: package-ci/win10:v4.30.0
        flavor: b1.large
    dependencies:
      -  .yamato/_templates.yml#test_hdrp_template_Win_CUSTOM-REVISION
      -  .yamato/_templates.yml#test_hdrp_blank_template_Win_CUSTOM-REVISION
      -  .yamato/_templates.yml#test_universal_template_Win_CUSTOM-REVISION
      -  .yamato/_templates.yml#test_hdrp_template_OSX_CUSTOM-REVISION
      -  .yamato/_templates.yml#test_hdrp_blank_template_OSX_CUSTOM-REVISION
      -  .yamato/_templates.yml#test_universal_template_OSX_CUSTOM-REVISION
    commands:
      -  npm install upm-ci-utils@stable -g --registry https://artifactory.prd.cds.internal.unity3d.com/artifactory/api/npm/upm-npm
      -  upm-ci package izon -t
      -  upm-ci package izon -d
    variables:
        CUSTOM_REVISION: custom_revision_not_set
